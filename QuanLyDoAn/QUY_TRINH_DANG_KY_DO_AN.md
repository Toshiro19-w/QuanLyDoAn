# QUY TRÌNH ??NG KÝ ?? ÁN - H??NG D?N CHI TI?T

## ?? T?ng Quan Quy Trình

```
Gi?ng viên t?o ?? tài ? Sinh viên ??ng ký ? Gi?ng viên duy?t ? ?? tài bi?n m?t
                                           ?
                                      Các yêu c?u khác b? xóa
```

---

## ?? CHI TI?T T?NG B??C

### B??C 1??: Gi?ng Viên T?o ?? Tài

**Ng??i th?c hi?n:** Gi?ng viên  
**V? trí:** MainForm ? Sidebar ? "T?o ?? tài m?i"

#### Các b??c:
1. ??ng nh?p v?i tài kho?n **Gi?ng Viên**
2. Nhìn vào sidebar, click nút **"T?o ?? tài m?i"**
3. Form **"TaoDoAnForm"** s? m? lên
4. Nh?p các thông tin b?t bu?c:
   - **Mã ?? tài** (VD: DA001, DA002, ...)
   - **Tên ?? tài** (VD: "H? th?ng qu?n lý bán hàng")
   - Mô t? (tùy ch?n)
   - Lo?i ?? án (dropdown)
   - K? h?c (dropdown)
   - Chuyên ngành (dropdown)
   - Tr?ng thái (dropdown)
   - Ngày b?t ??u & Ngày k?t thúc

#### Tr?ng thái t?o m?i:
```
? T?o thành công
- MaSv = NULL (ch?a có sinh viên)
- Tr?ng thái = Pending (ch? duy?t)
- ???c l?u vào b?ng DoAn
```

---

### B??C 2??: Sinh Viên ??ng Ký ?? Tài

**Ng??i th?c hi?n:** Sinh viên  
**V? trí:** MainForm ? Sidebar ? "??ng ký ?? án"

#### Các b??c:
1. ??ng nh?p v?i tài kho?n **Sinh Viên**
2. Click nút **"??ng ký ?? án"** ? sidebar
3. S? th?y danh sách t?t c? ?? tài **ch?a có sinh viên** (MaSv = NULL)
4. Ch?n 1 ?? tài t? b?ng
5. (Tùy ch?n) Nh?p **Ghi chú** (VD: "Tôi r?t quan tâm ?? tài này vì...")
6. Click nút **"??ng ký"**

#### Tr?ng thái sau khi g?i:
```
? G?i yêu c?u thành công
- B?n ghi ???c t?o trong b?ng YeuCauDangKy
- TrangThai = "Pending" (ch? gi?ng viên duy?t)
- Sinh viên s? th?y thông báo: "Ch? gi?ng viên duy?t..."
```

#### L?u ý:
- ?? Sinh viên **KHÔNG TH?** g?i 2 yêu c?u cho cùng 1 ?? tài
- ? Sinh viên **CÓ TH?** g?i yêu c?u cho nhi?u ?? tài khác nhau

---

### B??C 3??: Gi?ng Viên Duy?t Yêu C?u

**Ng??i th?c hi?n:** Gi?ng viên  
**V? trí:** MainForm ? Sidebar ? "Duy?t yêu c?u"

#### Các b??c:
1. ??ng nh?p v?i tài kho?n **Gi?ng Viên**
2. Click nút **"Duy?t yêu c?u"** ? sidebar
3. S? th?y danh sách các yêu c?u **ch?a duy?t** (TrangThai = "Pending")
4. Ch?n 1 yêu c?u t? b?ng
5. S? th?y thông tin:
   - ?? tài ?ó
   - Thông tin sinh viên (H? tên, Mã SV, L?p, Email)
   - Ngày g?i & Ghi chú

#### L?a ch?n quy?t ??nh:

##### ? Nút "CH?P NH?N":
```
Hành ??ng:
1. Sinh viên ???c gán vào ?? tài (MaSv ???c c?p nh?t)
2. Yêu c?u này ???c ?ánh d?u = "Approved"
3. ? T?T C? yêu c?u khác cho ?? tài này s? b?:
   - TrangThai chuy?n thành "Rejected"
   - T? ch?i t? ??ng
4. ?? ?? tài s? BI?N M?T kh?i danh sách "??ng ký ?? án" c?a sinh viên
   (vì MaSv không còn NULL n?a)

K?t qu?:
? Sinh viên ???c ch?n có ?? tài
? Các sinh viên khác không th? ??ng ký ?? tài này
? Yêu c?u c?a sinh viên khác b? xóa t? ??ng
```

##### ? Nút "T? CH?I":
```
Hành ??ng:
1. Yêu c?u này ???c ?ánh d?u = "Rejected"
2. ?? ?? tài V?N CÒN m? cho sinh viên khác ??ng ký
   (MaSv v?n là NULL)
3. Sinh viên khác v?n th?y ?? tài này trong danh sách

K?t qu?:
? Sinh viên b? t? ch?i nh?ng có th? ch?n ?? tài khác
? Sinh viên khác v?n có c? h?i ??ng ký
```

---

## ?? TÌNH HU?NG VÀ K?CH B?N

### Tình hu?ng 1: 1 Sinh viên, 1 ?? tài
```
1. Sinh viên A g?i yêu c?u cho ?? tài "DA001"
   ? YeuCauDangKy: Pending

2. Gi?ng viên click "Ch?p nh?n"
   ? DoAn.MaSv = A
   ? YeuCauDangKy: Approved
   ? DA001 bi?n m?t kh?i danh sách c?a A

3. Sinh viên B không th?y DA001 n?a (vì MaSv ? NULL)
```

### Tình hu?ng 2: 3 Sinh viên, 1 ?? tài
```
1. Sinh viên A g?i yêu c?u cho DA001 ? Pending
2. Sinh viên B g?i yêu c?u cho DA001 ? Pending
3. Sinh viên C g?i yêu c?u cho DA001 ? Pending

   [Danh sách yêu c?u c?a GV]
   - A - DA001 - Pending
   - B - DA001 - Pending
   - C - DA001 - Pending

4. Gi?ng viên ch?n A và click "Ch?p nh?n"
   ? A ???c gán vào DA001
   ? B & C b? T? CH?I t? ??ng
   
   [Danh sách yêu c?u sau ?ó]
   - A - DA001 - Approved ? (Bi?n m?t)
   - B - DA001 - Rejected ? (Bi?n m?t)
   - C - DA001 - Rejected ? (Bi?n m?t)

   ?? GV ch? th?y các yêu c?u Pending mà thôi!
```

### Tình hu?ng 3: Sinh viên g?i 1 yêu c?u l?i 2 l?n
```
1. Sinh viên A g?i yêu c?u cho DA001 ? Pending
   ?
2. Sinh viên A l?i click "??ng ký" cho DA001
   ? ? B? t? ch?i: "B?n ?ã g?i yêu c?u cho ?? tài này r?i"
   ? H? th?ng s? c?nh báo

K?t qu?: Ch? 1 yêu c?u duy nh?t trong h? th?ng
```

---

## ?? B?NG TR?NG THÁI

| B?ng | C?t | Giá tr? | Ý ngh?a |
|------|-----|--------|---------|
| **DoAn** | MaSv | NULL | Ch?a có sinh viên |
| | MaSv | "SV001" | Có sinh viên (?ã ???c duy?t) |
| **YeuCauDangKy** | TrangThai | "Pending" | Ch? gi?ng viên duy?t |
| | TrangThai | "Approved" | Ch?p nh?n (MaSv ???c set) |
| | TrangThai | "Rejected" | T? ch?i (t? ??ng ho?c do GV) |

---

## ?? QUY?N H?N

| Ch?c n?ng | Admin | Gi?ng viên | Sinh viên |
|----------|-------|-----------|----------|
| **T?o ?? tài** | ? | ? | ? |
| **Duy?t yêu c?u** | ? | ? | ? |
| **??ng ký ?? tài** | ? | ? | ? |
| **Xem yêu c?u Pending** | ? | ? (c?a GV) | ? |

---

## ??? CÁC FILE H? TR?

### Views
- `QuanLyDoAn/View/TaoDoAnForm.cs` - Form t?o ?? tài
- `QuanLyDoAn/View/DangKyDoAnControl.cs` - Control ??ng ký
- `QuanLyDoAn/View/DuyetYeuCauControl.cs` - Control duy?t yêu c?u

### Controllers
- `QuanLyDoAn/Controller/DangKyDoAnController.cs` - Logic x? lý

### Entities
- `QuanLyDoAn/Model/Entities/YeuCauDangKy.cs` - B?ng yêu c?u

---

## ?? L?U Ý QUAN TR?NG

1. **?? tài bi?n m?t sau duy?t**: Khi GV ch?p nh?n, sinh viên s? không còn th?y ?? tài này n?a (vì MaSv không NULL)

2. **Các yêu c?u khác t? ??ng xóa**: Ch? c?n GV ch?p nh?n 1 yêu c?u, t?t c? yêu c?u khác cho ?? tài ?ó s? b? t? ch?i

3. **GV ch? th?y Pending**: Danh sách duy?t yêu c?u ch? hi?n th? các yêu c?u có TrangThai = "Pending"

4. **Không th? g?i yêu c?u trùng**: Sinh viên không th? g?i 2 yêu c?u cho cùng 1 ?? tài

5. **Email notification** (n?u có): GV có th? g?i email thông báo k?t qu? cho sinh viên

---

## ?? LIÊN H? & H? TR?

N?u có v?n ??:
1. Ki?m tra tr?ng thái trong database
2. Xem log errors
3. Contact admin
